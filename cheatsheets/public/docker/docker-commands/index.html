<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
  <link rel="stylesheet" href="/custom.css">
  
  <title>
    Cheatsheets
    </title>
</head>

<body>

  <div class="columns">
    <div class="column is-narrow has-background-light set-to-max-height">

      
      <div class="mx-6 my-6">
        <div class="box">
    <figure class="image is-64x64 mt-4 mb-6 has-image-centered">
        <a href="/">
            <img class="is-rounded" src="/logo.png">
        </a>
    </figure>

    

    <aside class="menu">
        

        <p class="menu-label">
            Docker
        </p>
        <ul class="menu-list">
            
            <li><a class="" href="http://kimgoetzke.github.io/docker/notes/">Getting Started</a>
            </li>
            
            <li><a class="is-active" href="http://kimgoetzke.github.io/docker/docker-commands/">Useful Docker commands</a>
            </li>
            
        </ul>

        

        <p class="menu-label">
            Linux
        </p>
        <ul class="menu-list">
            
            <li><a class="" href="http://kimgoetzke.github.io/linux/wsl/">Windows Subsystem for Linux</a>
            </li>
            
        </ul>

        

        <p class="menu-label">
            Other
        </p>
        <ul class="menu-list">
            
            <li><a class="" href="http://kimgoetzke.github.io/other/regex/">Regex</a>
            </li>
            
        </ul>

        
    </aside>
</div>
      </div>

    </div>
    <div class="column is-7">

      
      
<div class="columns">
    <div class="column is-flex-shrink-0">

        <div class="level mt-6 mx-5">
    <div class="level-left">

        <nav class="breadcrumb has-succeeds-separator" aria-label="breadcrumbs">
            <ul>
                <li><a href="/">Cheatsheets</a></li>
                <li><a href="/docker/">Docker</a></li>
                <li class="is-active"><a href="/docker/docker-commands/">Useful Docker commands</a></li>
            </ul>
        </nav>

    </div>
</div>

        <div class="mx-5">
            <h1 class="title is-1">Useful Docker commands</h1><a href="http://kimgoetzke.github.io/tags/docker/">
                <span class="tag is-primary"><ion-icon name="pricetag-outline"></ion-icon>&nbsp; Docker</span>
            </a>

            </div>

        <section class="section">
            <article class="content" style="width:100%">
            <h2 id="basic-docker-commands">Basic Docker commands</h2>
<h3 id="list-all-local-images">List all local images</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker images
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker image ls
</span></span></code></pre></div><blockquote class="book-hint info">
  The parameter <code>-q</code> will ensure only Ids are listed.
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker image ls -q
</span></span></code></pre></div><h3 id="list-all-containers">List all containers</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker ps
</span></span></code></pre></div><blockquote class="book-hint info">
  The parameter <code>-a</code> will include stopped containers.
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker ps -a
</span></span></code></pre></div><blockquote>
<p>List all <em>and</em> don&rsquo;t truncate columns (for example, to see entrypoints)</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker ps --no-trunc
</span></span></code></pre></div><h3 id="remove-a-single-image">Remove a single image</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker image rm <span style="color:#f92672">[</span>image_id<span style="color:#f92672">]</span>
</span></span></code></pre></div><h3 id="remove-all-image">Remove all image</h3>
<blockquote>
<p>This command will result in an error if an image currently used in a container.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker image rm <span style="color:#66d9ef">$(</span>docker image ls -q<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><h3 id="remove-all-containers">Remove all containers</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker container rm -f <span style="color:#66d9ef">$(</span>docker container ls -a -q<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><h3 id="createrun-container">Create/run container</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run --name <span style="color:#f92672">[</span>name_of_container<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>image_name_to_use<span style="color:#f92672">]</span>
</span></span></code></pre></div><h3 id="go-into-container">Go into container</h3>
<blockquote>
<p>Execute bash inside container with an abbreviated or full id (e.g. <code>5a432b61b585</code>).</p>
</blockquote>
<blockquote class="book-hint info">
  The parameter <code>-it</code> stands for interactive mode.
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker exec -it <span style="color:#f92672">[</span>container_id<span style="color:#f92672">]</span> bash
</span></span></code></pre></div><h2 id="basic-docker-compose-commands">Basic Docker Compose commands</h2>
<blockquote class="book-hint info">
  Using the parameter <code>-d</code> starts the containers in the background and leaves them running. Without it, you&rsquo;ll see the logs but need to open another shell/terminal.
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker compose up -d
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker compose down
</span></span></code></pre></div><h2 id="docker--postgres">Docker &amp; Postgres</h2>
<h3 id="create-postgres-database-container">Create Postgres database container</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -d --name db -p 5432:5432 -e POSTGRES_PASSWORD<span style="color:#f92672">=</span>password / 
</span></span><span style="display:flex;"><span>    -e POSTGRES_USER<span style="color:#f92672">=</span>postgres -e POSTGRES_DB<span style="color:#f92672">=</span>postgres_db postgres
</span></span></code></pre></div><blockquote>
<p>Creates and runs container with&hellip;</p>
<ul>
<li>name=<code>db</code></li>
<li>mapping port <code>5432</code> to the same local port</li>
<li>setting password=<code>password</code> and username=<code>username</code></li>
<li>creates a db with the name <code>postgres</code></li>
<li>and uses image <code>postgres</code> to create the container.</li>
</ul>
</blockquote>

        </article>
        </section>

        
        <section class="section">
            <hr>

            <nav class="level">
                <div class="level-left">
                    
                </div>

                <div class="level-right">
                    
                    <div class="has-text-right">
                        <a href="http://kimgoetzke.github.io/docker/notes/">
                            
                            <button class="button is-primary is-light">
                                <span class="icon-text">
                                    
                                    <span>Getting Started <ion-icon name="caret-forward-outline"></ion-icon></span>
                                </span>
                            </button>
                        </a>
                    </div>
                    
                </div>
            </nav>
        </section>
        

    </div>
    <div class="column is-narrow">
        <div class="toc-menu">

            
            <aside class="menu">
                <p class="menu-label">
                    On this page
                </p>
                <article class="content">
                    <nav class="" id="vanilla-scrollspy">
                        <a><nav id="TableOfContents">
  <ul>
    <li><a href="#basic-docker-commands">Basic Docker commands</a>
      <ul>
        <li><a href="#list-all-local-images">List all local images</a></li>
        <li><a href="#list-all-containers">List all containers</a></li>
        <li><a href="#remove-a-single-image">Remove a single image</a></li>
        <li><a href="#remove-all-image">Remove all image</a></li>
        <li><a href="#remove-all-containers">Remove all containers</a></li>
        <li><a href="#createrun-container">Create/run container</a></li>
        <li><a href="#go-into-container">Go into container</a></li>
      </ul>
    </li>
    <li><a href="#basic-docker-compose-commands">Basic Docker Compose commands</a></li>
    <li><a href="#docker--postgres">Docker &amp; Postgres</a>
      <ul>
        <li><a href="#create-postgres-database-container">Create Postgres database container</a></li>
      </ul>
    </li>
  </ul>
</nav></a>
                    </nav>
                </article>
            </aside>
            

        </div>
    </div>

</div>


    </div>
    <div class="column is-flex-shrink-0"></div>
  </div>


  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <script src="/vanillajs-scrollspy.min.js"></script>
  <script>
    const menu = document.querySelector('#vanilla-scrollspy')
    const scrollspy = VanillaScrollspy({ menu })
    scrollspy.init()
  </script>

</body>

</html>